<!doctype html>
<html>

	<head>
		<meta charset="utf-8">
		<title></title>
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<link href="css/mui.css" rel="stylesheet" />
	</head>

	<body>
		<header class="mui-bar mui-bar-nav">
			<h1 class="mui-title">联系人</h1>
		</header>
		<div class="mui-content">
			
			<div id="infomation">
				<ul class="mui-table-view">
					<li class="mui-table-view-cell mui-collapse">
						<a class="mui-navigate-right" href="#">张三</a>
						<div class="mui-collapse-content">
							<p>电话：788855</p>
							<p>地址：重庆市</p>
						</div>
					</li>
					<li class="mui-table-view-cell mui-collapse">
						<a class="mui-navigate-right" href="#">李四</a>
						<div class="mui-collapse-content">
							<p>电话：788855</p>
							<p>地址：重庆市</p>
						</div>
					</li>
					<li class="mui-table-view-cell mui-collapse">
						<a class="mui-navigate-right" href="#">王五</a>
						<div class="mui-collapse-content">
							<p>电话：788855</p>
							<p>地址：重庆市</p>
						</div>
					</li>
					<li class="mui-table-view-cell mui-collapse">
						<a class="mui-navigate-right" href="#">赵六</a>
						<div class="mui-collapse-content">
							<p>电话：788855</p>
							<p>地址：重庆市</p>
						</div>
					</li>
					<a href="#popover" id="openPopover" class="mui-btn mui-btn-primary mui-btn-block">新增联系人</a>
					<div id="popover" class="mui-popover">
					  <form class="mui-input-group">
					      <div class="mui-input-row">
					          <label>用户名</label>
					      <input type="text" class="mui-input-clear" placeholder="用户名" id="username">
					      </div>
					      <div class="mui-input-row">
					          <label>密码</label>
					          <input type="text" class="mui-input-clear" placeholder="电话" id="phone">
					      </div>
					      <div class="mui-button-row">
					              <button type="button" class="mui-btn mui-btn-primary" id="confirm">确认</button>
					              <button type="button" class="mui-btn mui-btn-danger" id="concel">取消</button>
					       </div>
					  </form>
					</div>
				</ul>
			</div>
			 
		</div>
		<script src="js/mui.js"></script>
		<script type="text/javascript">
			mui.init();
			//此方法用于解决子页面返回问题
			mui.back=function(){
				var self = plus.webview.currentWebview();
				var opener = self.opener();
				opener.evalJS('mui.back();');
			};
			document.getElementById('popover').style.visibility = 'visible';

			document.getElementById('confirm').addEventListener('click', function() {
				//document.getElementById('popover').style.visibility = 'visible';
				 if (!document.getElementById('username').value || !document.getElementById('phone').value) {
					 plus.ui.toast("请输入用户名和号码");
					 return;
				 }
				 var tml = `<a class="mui-navigate-right" href="#">${document.getElementById('username').value}</a>
							<div class="mui-collapse-content">
								<p>电话：${ document.getElementById('phone').value}</p>
								<p>地址：重庆市</p>
							</div>
						 `;
				 var newLi = document.createElement('li');
				 newLi.className = 'mui-table-view-cell mui-collapse'
				 newLi.innerHTML = tml;
				 document.getElementsByTagName('ul')[0].insertBefore(newLi, document.getElementById('openPopover'))
				 mui(".mui-popover").popover('hide');
				 
				/* mui('.bottomPopover').popover('hide',[,anchor]);
				 document.getElementById('popover').style.visibility = 'hidden'; */
			 })
			 document.getElementById('concel').addEventListener('tap',function(){
				  mui(".mui-popover").popover('hide');
			 })
			// document.getElementById('popover').style.visibility = 'visible'
		</script>
	</body>

</html>
